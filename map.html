
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>map module &#8212; CATS  documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CATS  documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-map">
<span id="map-module"></span><h1>map module<a class="headerlink" href="#module-map" title="Permalink to this headline">¶</a></h1>
<p>The maps modules consists of several classes that cater to different details of the urban landscape.</p>
<p>Map module is central to the effectiveness of CATS. The most important requirements/features of maps are</p>
<blockquote>
<div><ul class="simple">
<li>Maps should represent an urban traffic scenario, along with the landscape of the city.</li>
<li>Maps require a detailed modeling of roads, intersections, lanes, etc.</li>
<li>Maps should encode the topological connections between roads, for routing.</li>
<li>Specific to CATS, maps also store the spatial details of all the vehicles in the simulation.</li>
</ul>
</div></blockquote>
<dl class="class">
<dt id="map.Intersection">
<em class="property">class </em><code class="descclassname">map.</code><code class="descname">Intersection</code><span class="sig-paren">(</span><em>point_x</em>, <em>point_y</em>, <em>osmid=None</em>, <em>traffic_controller=None</em><span class="sig-paren">)</span><a class="headerlink" href="#map.Intersection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Characterizes a traffic junction.</p>
<dl class="attribute">
<dt id="map.Intersection.__x">
<code class="descname">__x</code><a class="headerlink" href="#map.Intersection.__x" title="Permalink to this definition">¶</a></dt>
<dd><p><em>float</em> – x coordinate</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Intersection.__y">
<code class="descname">__y</code><a class="headerlink" href="#map.Intersection.__y" title="Permalink to this definition">¶</a></dt>
<dd><p><em>float</em> – y coordinate</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Intersection.__grade">
<code class="descname">__grade</code><a class="headerlink" href="#map.Intersection.__grade" title="Permalink to this definition">¶</a></dt>
<dd><p><em>float</em> – altitude</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Intersection.__osmid">
<code class="descname">__osmid</code><a class="headerlink" href="#map.Intersection.__osmid" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – unique identifier of the Intersection</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Intersection.__traffic_controller">
<code class="descname">__traffic_controller</code><a class="headerlink" href="#map.Intersection.__traffic_controller" title="Permalink to this definition">¶</a></dt>
<dd><p><em>object</em> – TrafficController on the Intersection</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Intersection.__nodes">
<code class="descname">__nodes</code><a class="headerlink" href="#map.Intersection.__nodes" title="Permalink to this definition">¶</a></dt>
<dd><p><em>list</em> – list of Node objects</p>
</dd></dl>

<p class="rubric">Notes</p>
<p>An intersection contains multiple Nodes which are the end points of the roads leading upto the intersection. An intersection is initialized with 0 Nodes. Nodes are added later while initializing a map using <cite>add_node</cite> method.</p>
<dl class="docutils">
<dt>The present implementation assumes the following.</dt>
<dd><ul class="first last simple">
<li>Fixed number of nodes. Currently only support a ‘+’ kind of intersection (a four way junction)</li>
<li>Intersections are axis aligned.</li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="map.Intersection.add_node">
<code class="descname">add_node</code><span class="sig-paren">(</span><em>node</em><span class="sig-paren">)</span><a class="headerlink" href="#map.Intersection.add_node" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.Intersection.get_grade">
<code class="descname">get_grade</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#map.Intersection.get_grade" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.Intersection.get_no_of_nodes">
<code class="descname">get_no_of_nodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#map.Intersection.get_no_of_nodes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.Intersection.get_node_by_id">
<code class="descname">get_node_by_id</code><span class="sig-paren">(</span><em>_id</em><span class="sig-paren">)</span><a class="headerlink" href="#map.Intersection.get_node_by_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.Intersection.get_nodes">
<code class="descname">get_nodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#map.Intersection.get_nodes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.Intersection.get_osmid">
<code class="descname">get_osmid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#map.Intersection.get_osmid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.Intersection.get_x">
<code class="descname">get_x</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#map.Intersection.get_x" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.Intersection.get_y">
<code class="descname">get_y</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#map.Intersection.get_y" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.Intersection.set_grade">
<code class="descname">set_grade</code><span class="sig-paren">(</span><em>g</em><span class="sig-paren">)</span><a class="headerlink" href="#map.Intersection.set_grade" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.Intersection.set_osmid">
<code class="descname">set_osmid</code><span class="sig-paren">(</span><em>osmid</em><span class="sig-paren">)</span><a class="headerlink" href="#map.Intersection.set_osmid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.Intersection.set_x">
<code class="descname">set_x</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#map.Intersection.set_x" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.Intersection.set_y">
<code class="descname">set_y</code><span class="sig-paren">(</span><em>y</em><span class="sig-paren">)</span><a class="headerlink" href="#map.Intersection.set_y" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.Intersection.traffic_controller">
<code class="descname">traffic_controller</code><a class="headerlink" href="#map.Intersection.traffic_controller" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="map.Lane">
<em class="property">class </em><code class="descclassname">map.</code><code class="descname">Lane</code><span class="sig-paren">(</span><em>lane_no</em>, <em>road</em>, <em>lane_polygon</em>, <em>lane_center</em>, <em>speed_limit=None</em>, <em>_type=None</em><span class="sig-paren">)</span><a class="headerlink" href="#map.Lane" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Characterizes a lane that is a part of a Road.</p>
<dl class="attribute">
<dt id="map.Lane.__vehicles">
<code class="descname">__vehicles</code><a class="headerlink" href="#map.Lane.__vehicles" title="Permalink to this definition">¶</a></dt>
<dd><p><em>list</em> – list of vehicle objects</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Lane.__lane_no">
<code class="descname">__lane_no</code><a class="headerlink" href="#map.Lane.__lane_no" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – lane_no is calculated from 0 (center of road, i.e. left most lane)</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Lane.__lane_type">
<code class="descname">__lane_type</code><a class="headerlink" href="#map.Lane.__lane_type" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – type of lane (turn only etc)</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Lane.__road">
<code class="descname">__road</code><a class="headerlink" href="#map.Lane.__road" title="Permalink to this definition">¶</a></dt>
<dd><p><em>object</em> – Road of which the lane is a part of</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Lane.__lane_polygon">
<code class="descname">__lane_polygon</code><a class="headerlink" href="#map.Lane.__lane_polygon" title="Permalink to this definition">¶</a></dt>
<dd><p><em>object</em> – Shapely bounding polygon of the lane</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Lane.__lane_center">
<code class="descname">__lane_center</code><a class="headerlink" href="#map.Lane.__lane_center" title="Permalink to this definition">¶</a></dt>
<dd><p><em>object</em> – Shapely LineString object of the lane_center</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Lane.__speed_limit">
<code class="descname">__speed_limit</code><a class="headerlink" href="#map.Lane.__speed_limit" title="Permalink to this definition">¶</a></dt>
<dd><p><em>float</em> – speed limit of the road</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Lane.__name">
<code class="descname">__name</code><a class="headerlink" href="#map.Lane.__name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – name oft he lane</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Lane.__start_x">
<code class="descname">__start_x</code><a class="headerlink" href="#map.Lane.__start_x" title="Permalink to this definition">¶</a></dt>
<dd><p><em>float</em> – x coordinate of the start of the lane center</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Lane.__start_y">
<code class="descname">__start_y</code><a class="headerlink" href="#map.Lane.__start_y" title="Permalink to this definition">¶</a></dt>
<dd><p><em>float</em> – y coordinate of the start of the lane center</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Lane.__end_x">
<code class="descname">__end_x</code><a class="headerlink" href="#map.Lane.__end_x" title="Permalink to this definition">¶</a></dt>
<dd><p><em>float</em> – x coordinate of the end of the lane center</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Lane.__end_y">
<code class="descname">__end_y</code><a class="headerlink" href="#map.Lane.__end_y" title="Permalink to this definition">¶</a></dt>
<dd><p><em>float</em> – y coordinate of the end of the lane center</p>
</dd></dl>

<p class="rubric">Notes</p>
<p>Current Implementation (to be deprecated): Provides the bare minimum information such as lane_center (used to calculated distance from lane center), lane_no, speed_limit etc. Has no particularly important role other than the attributes defined.</p>
<p>Future Implementation (under development): The vehicles are store on the lanes. If a vehicle changes a lane, a method on lanes is called to update the vehicles on the source lane and the destination lane. The vehicles on a lane are stored in a linked list in order of decreasing(?) distance from the end of the road.</p>
<dl class="method">
<dt id="map.Lane.get_vehicles">
<code class="descname">get_vehicles</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#map.Lane.get_vehicles" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.Lane.lane_center">
<code class="descname">lane_center</code><a class="headerlink" href="#map.Lane.lane_center" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.Lane.lane_center_xy">
<code class="descname">lane_center_xy</code><a class="headerlink" href="#map.Lane.lane_center_xy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.Lane.lane_no">
<code class="descname">lane_no</code><a class="headerlink" href="#map.Lane.lane_no" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.Lane.lane_polygon">
<code class="descname">lane_polygon</code><a class="headerlink" href="#map.Lane.lane_polygon" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.Lane.remove_vehicle">
<code class="descname">remove_vehicle</code><span class="sig-paren">(</span><em>vehicle</em><span class="sig-paren">)</span><a class="headerlink" href="#map.Lane.remove_vehicle" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">Notes</p>
<p>Not used currently. To be used in the future</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>vehicle</strong> (<em>object</em>) – Vehicle that needs to be removed from the lane</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code> – Vehicle not found in the lane</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="map.Lane.road">
<code class="descname">road</code><a class="headerlink" href="#map.Lane.road" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.Lane.speed_limit">
<code class="descname">speed_limit</code><a class="headerlink" href="#map.Lane.speed_limit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="map.Node">
<em class="property">class </em><code class="descclassname">map.</code><code class="descname">Node</code><span class="sig-paren">(</span><em>point_x</em>, <em>point_y</em>, <em>incoming</em>, <em>_id=None</em>, <em>parent=None</em>, <em>traffic_signal=None</em><span class="sig-paren">)</span><a class="headerlink" href="#map.Node" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class determining the data structure of a Node (end points of a Road).</p>
<dl class="attribute">
<dt id="map.Node.__x">
<code class="descname">__x</code><a class="headerlink" href="#map.Node.__x" title="Permalink to this definition">¶</a></dt>
<dd><p><em>float</em> – x coordinate</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Node.__y">
<code class="descname">__y</code><a class="headerlink" href="#map.Node.__y" title="Permalink to this definition">¶</a></dt>
<dd><p><em>float</em> – y coordinate</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Node.__grade">
<code class="descname">__grade</code><a class="headerlink" href="#map.Node.__grade" title="Permalink to this definition">¶</a></dt>
<dd><p><em>float</em> – altitude</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Node.__parent">
<code class="descname">__parent</code><a class="headerlink" href="#map.Node.__parent" title="Permalink to this definition">¶</a></dt>
<dd><p><em>class</em> – Intersection of which the node is a part of</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Node.__id">
<code class="descname">__id</code><a class="headerlink" href="#map.Node.__id" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – identifier of the Node</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Node.__traffic_signals">
<code class="descname">__traffic_signals</code><a class="headerlink" href="#map.Node.__traffic_signals" title="Permalink to this definition">¶</a></dt>
<dd><p><em>object</em> – Traffic Signal on the node (if any)</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Node.__incoming">
<code class="descname">__incoming</code><a class="headerlink" href="#map.Node.__incoming" title="Permalink to this definition">¶</a></dt>
<dd><p><em>bool</em> – If the Node ends at an intersection (it is incoming into the intersection)</p>
</dd></dl>

<p class="rubric">Notes</p>
<p>This class is similar to a (class) SubNode, except that (class) Node is an endpoint of a (class) Road and
usually is a bound to (class) Intersection.</p>
<dl class="method">
<dt id="map.Node.get_grade">
<code class="descname">get_grade</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#map.Node.get_grade" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.Node.get_id">
<code class="descname">get_id</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#map.Node.get_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.Node.id">
<code class="descname">id</code><a class="headerlink" href="#map.Node.id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.Node.is_incoming">
<code class="descname">is_incoming</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#map.Node.is_incoming" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.Node.parent">
<code class="descname">parent</code><a class="headerlink" href="#map.Node.parent" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.Node.set_grade">
<code class="descname">set_grade</code><span class="sig-paren">(</span><em>g</em><span class="sig-paren">)</span><a class="headerlink" href="#map.Node.set_grade" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.Node.set_id">
<code class="descname">set_id</code><span class="sig-paren">(</span><em>_id</em><span class="sig-paren">)</span><a class="headerlink" href="#map.Node.set_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.Node.set_x">
<code class="descname">set_x</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#map.Node.set_x" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.Node.set_y">
<code class="descname">set_y</code><span class="sig-paren">(</span><em>y</em><span class="sig-paren">)</span><a class="headerlink" href="#map.Node.set_y" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.Node.traffic_signals">
<code class="descname">traffic_signals</code><a class="headerlink" href="#map.Node.traffic_signals" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.Node.x">
<code class="descname">x</code><a class="headerlink" href="#map.Node.x" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.Node.y">
<code class="descname">y</code><a class="headerlink" href="#map.Node.y" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="map.Road">
<em class="property">class </em><code class="descclassname">map.</code><code class="descname">Road</code><span class="sig-paren">(</span><em>start_node</em>, <em>end_node</em>, <em>line_string</em>, <em>_type='straight'</em>, <em>no_of_lanes=3</em>, <em>name=None</em>, <em>osmid=None</em>, <em>lane_width=5</em>, <em>speed_limit=40</em><span class="sig-paren">)</span><a class="headerlink" href="#map.Road" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Characterizes the Road in a TrafficGraph.</p>
<p>The Road is determined by a start node, an end node, a RoadString (for the curvature/ linestring). It has attributes like speed limit, number of lanes etc that are specified while constructing the Road, and attributes like width, polygons that are calculated.</p>
<p class="rubric">Notes</p>
<p>There are two types of roads,
1) normal road that connects two nodes (which are on two different intersections),
2) turn road that connects two nodes within the same intersection. In this setting, the vehicles can be
simulated on a micro scale within an intersection (traffic junction which is usually atleast 20 meters in
diameter). By considering two types of roads, there are several edge cases on the vehicle class that need to be
taken care of when trying to update the state of the vehicle. Also, the current implementation is only for a
plus shaped intersection, but when there are various types of intersections, care must be taken in assigning
the turn roads.</p>
<dl class="attribute">
<dt id="map.Road.__start_node">
<code class="descname">__start_node</code><a class="headerlink" href="#map.Road.__start_node" title="Permalink to this definition">¶</a></dt>
<dd><p><em>object</em> – start_node</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Road.__end_node">
<code class="descname">__end_node</code><a class="headerlink" href="#map.Road.__end_node" title="Permalink to this definition">¶</a></dt>
<dd><p><em>object</em> – end_node</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Road.__type">
<code class="descname">__type</code><a class="headerlink" href="#map.Road.__type" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – _type</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Road.__speed_limit">
<code class="descname">__speed_limit</code><a class="headerlink" href="#map.Road.__speed_limit" title="Permalink to this definition">¶</a></dt>
<dd><p><em>float</em> – speed limit of the road</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Road.__line_string">
<code class="descname">__line_string</code><a class="headerlink" href="#map.Road.__line_string" title="Permalink to this definition">¶</a></dt>
<dd><p><em>object</em> – Shapely LineString of the center of the road</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Road.__name">
<code class="descname">__name</code><a class="headerlink" href="#map.Road.__name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – name of the road</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Road.__osmid">
<code class="descname">__osmid</code><a class="headerlink" href="#map.Road.__osmid" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – unique identifier of the Road</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Road.__no_of_lanes">
<code class="descname">__no_of_lanes</code><a class="headerlink" href="#map.Road.__no_of_lanes" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – no_of_lanes</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Road.__lane_width">
<code class="descname">__lane_width</code><a class="headerlink" href="#map.Road.__lane_width" title="Permalink to this definition">¶</a></dt>
<dd><p><em>float</em> – lane_width</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Road.__left_line_string">
<code class="descname">__left_line_string</code><a class="headerlink" href="#map.Road.__left_line_string" title="Permalink to this definition">¶</a></dt>
<dd><p><em>object</em> – Shapely LineString of the left edge of the road.</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Road.__left_line_string_x">
<code class="descname">__left_line_string_x</code><a class="headerlink" href="#map.Road.__left_line_string_x" title="Permalink to this definition">¶</a></dt>
<dd><p><em>list ?</em> – x coords of the left LineSting</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Road.__left_line_string_y">
<code class="descname">__left_line_string_y</code><a class="headerlink" href="#map.Road.__left_line_string_y" title="Permalink to this definition">¶</a></dt>
<dd><p><em>list ?</em> – y coords of the left LineString</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Road.__road_string">
<code class="descname">__road_string</code><a class="headerlink" href="#map.Road.__road_string" title="Permalink to this definition">¶</a></dt>
<dd><p><em>object</em> – RoadString that determines the curvature, heading of the road</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Road.__length">
<code class="descname">__length</code><a class="headerlink" href="#map.Road.__length" title="Permalink to this definition">¶</a></dt>
<dd><p><em>float</em> – length of the road (measured along the line string)</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Road.__width">
<code class="descname">__width</code><a class="headerlink" href="#map.Road.__width" title="Permalink to this definition">¶</a></dt>
<dd><p><em>float</em> – no_of_lanes* lane_width</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Road.__lanes">
<code class="descname">__lanes</code><a class="headerlink" href="#map.Road.__lanes" title="Permalink to this definition">¶</a></dt>
<dd><p><em>list</em> – list of the Lanes on the Road</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Road.__heading">
<code class="descname">__heading</code><a class="headerlink" href="#map.Road.__heading" title="Permalink to this definition">¶</a></dt>
<dd><p><em>list</em> – list of the headings across difference segments in the RoadString</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Road.__traffic_count">
<code class="descname">__traffic_count</code><a class="headerlink" href="#map.Road.__traffic_count" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – number of vehicles on the road</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Road.__traffic_trace">
<code class="descname">__traffic_trace</code><a class="headerlink" href="#map.Road.__traffic_trace" title="Permalink to this definition">¶</a></dt>
<dd><p><em>dict</em> – history of traffic attributes on the road</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Road.__lane_wise_traffic">
<code class="descname">__lane_wise_traffic</code><a class="headerlink" href="#map.Road.__lane_wise_traffic" title="Permalink to this definition">¶</a></dt>
<dd><p><em>dict</em> – traffic attributes</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Road.__total_traffic">
<code class="descname">__total_traffic</code><a class="headerlink" href="#map.Road.__total_traffic" title="Permalink to this definition">¶</a></dt>
<dd><p><em>dict</em> – traffic attributes</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Road.__time">
<code class="descname">__time</code><a class="headerlink" href="#map.Road.__time" title="Permalink to this definition">¶</a></dt>
<dd><p><em>float</em> – estimated travel time along a road (determined by the speed limit)</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Road.__avg_time">
<code class="descname">__avg_time</code><a class="headerlink" href="#map.Road.__avg_time" title="Permalink to this definition">¶</a></dt>
<dd><p><em>float</em> – estimated travel time along a road (average of the time taken by the traffic on that road)</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Road.__val">
<code class="descname">__val</code><a class="headerlink" href="#map.Road.__val" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.Road.__min_bounding_box">
<code class="descname">__min_bounding_box</code><a class="headerlink" href="#map.Road.__min_bounding_box" title="Permalink to this definition">¶</a></dt>
<dd><p><em>object</em> – Shapely Polygon of the axis aligned polygon of the Road</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Road.__bounding_polygon">
<code class="descname">__bounding_polygon</code><a class="headerlink" href="#map.Road.__bounding_polygon" title="Permalink to this definition">¶</a></dt>
<dd><p><em>object</em> – Shapely Polygon of the Road (the actual polygon, which fits the edges)</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Road.avg_time">
<code class="descname">avg_time</code><a class="headerlink" href="#map.Road.avg_time" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.Road.bounding_polygon">
<code class="descname">bounding_polygon</code><a class="headerlink" href="#map.Road.bounding_polygon" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt><em>Notes</em> –     The current implementation only considers straight roads (roads which are not curved). Future</dt>
<dd>implementations must modify this method to take the curvature/turns into consideration.
Note that the return type also changes when curved roads are considered.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">of the points (of the polygon)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="map.Road.end_node">
<code class="descname">end_node</code><a class="headerlink" href="#map.Road.end_node" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.Road.get_distance_from_road_center">
<code class="descname">get_distance_from_road_center</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="headerlink" href="#map.Road.get_distance_from_road_center" title="Permalink to this definition">¶</a></dt>
<dd><p>calculates the distance from the center of the road using the __line_string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<em>float</em>) – x coordinate</li>
<li><strong>y</strong> (<em>float</em>) – y coordinate</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">distance from the center of the Road</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="map.Road.get_lane">
<code class="descname">get_lane</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>segment=0</em><span class="sig-paren">)</span><a class="headerlink" href="#map.Road.get_lane" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the lane number of the vehicle by taking its coordinates (x,y). The distance from the left edge of
the road is calculated and divided by the lane width to find the lane number.</p>
<p class="rubric">Notes</p>
<p>When curved roads are implemented in the future, this method does not have to change much. If the
__left_line_string attribute is modified for curved roads, this method only needs to use the segment number
and calculate the distance (by using the line string in that segment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<em>float</em>) – x coordinate of the vehicle</li>
<li><strong>y</strong> (<em>float</em>) – y coordinate of the vehicle</li>
<li><strong>segment</strong> (<em>int</em>) – optional (for now, until this method is updated for curved roads)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">lane number calculated</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="map.Road.heading">
<code class="descname">heading</code><a class="headerlink" href="#map.Road.heading" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.Road.lane_width">
<code class="descname">lane_width</code><a class="headerlink" href="#map.Road.lane_width" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.Road.lanes">
<code class="descname">lanes</code><a class="headerlink" href="#map.Road.lanes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.Road.left_line_string">
<code class="descname">left_line_string</code><a class="headerlink" href="#map.Road.left_line_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.Road.line_string">
<code class="descname">line_string</code><a class="headerlink" href="#map.Road.line_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.Road.min_bounding_box">
<code class="descname">min_bounding_box</code><a class="headerlink" href="#map.Road.min_bounding_box" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.Road.name">
<code class="descname">name</code><a class="headerlink" href="#map.Road.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.Road.no_of_lanes">
<code class="descname">no_of_lanes</code><a class="headerlink" href="#map.Road.no_of_lanes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.Road.reset_traffic">
<code class="descname">reset_traffic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#map.Road.reset_traffic" title="Permalink to this definition">¶</a></dt>
<dd><p>Assigns the traffic attributes to the class Attributes at the end of the time interval and resets the
traffic attributes.</p>
<p class="rubric">Notes</p>
<p>Future research may include a time series data of the traffic attributes.</p>
</dd></dl>

<dl class="attribute">
<dt id="map.Road.road_length">
<code class="descname">road_length</code><a class="headerlink" href="#map.Road.road_length" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.Road.road_string">
<code class="descname">road_string</code><a class="headerlink" href="#map.Road.road_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.Road.speed_limit">
<code class="descname">speed_limit</code><a class="headerlink" href="#map.Road.speed_limit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.Road.start_node">
<code class="descname">start_node</code><a class="headerlink" href="#map.Road.start_node" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.Road.type">
<code class="descname">type</code><a class="headerlink" href="#map.Road.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.Road.update_traffic_from_vehicle_data">
<code class="descname">update_traffic_from_vehicle_data</code><span class="sig-paren">(</span><em>velocity</em><span class="sig-paren">)</span><a class="headerlink" href="#map.Road.update_traffic_from_vehicle_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Does the job of a loop detector by updating the attributes of the traffic, like number of vehicles, average
velocity etc. This update is done one vehicle at a time. Each vehicle, after updating its states, calls this
method to update the attributes of the road on which it is travelling.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>velocity</strong> (<em>float</em>) – velocity of the vehicle calling this method</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="map.Road.val">
<code class="descname">val</code><a class="headerlink" href="#map.Road.val" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.Road.width">
<code class="descname">width</code><a class="headerlink" href="#map.Road.width" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="map.RoadString">
<em class="property">class </em><code class="descclassname">map.</code><code class="descname">RoadString</code><span class="sig-paren">(</span><em>line_string</em><span class="sig-paren">)</span><a class="headerlink" href="#map.RoadString" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Encapsulates all the information about the road.</p>
<dl class="attribute">
<dt id="map.RoadString.__sub_nodes">
<code class="descname">__sub_nodes</code><a class="headerlink" href="#map.RoadString.__sub_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p><em>list</em> – list of SubNode objects at points on the linestring</p>
</dd></dl>

<dl class="attribute">
<dt id="map.RoadString.__no_sub_nodes">
<code class="descname">__no_sub_nodes</code><a class="headerlink" href="#map.RoadString.__no_sub_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – number of subnodes in the linestring</p>
</dd></dl>

<dl class="attribute">
<dt id="map.RoadString.__segment_headings">
<code class="descname">__segment_headings</code><a class="headerlink" href="#map.RoadString.__segment_headings" title="Permalink to this definition">¶</a></dt>
<dd><p><em>list</em> – list of heading angle from one SubNode on the line string to the next SubNode</p>
</dd></dl>

<dl class="attribute">
<dt id="map.RoadString.__perpendicular_segments">
<code class="descname">__perpendicular_segments</code><a class="headerlink" href="#map.RoadString.__perpendicular_segments" title="Permalink to this definition">¶</a></dt>
<dd><p><em>list</em> – list of lines perpendicular to the line joining two adjacent SubNodes</p>
</dd></dl>

<dl class="attribute">
<dt id="map.RoadString.__length_segments">
<code class="descname">__length_segments</code><a class="headerlink" href="#map.RoadString.__length_segments" title="Permalink to this definition">¶</a></dt>
<dd><p><em>list</em> – list of lengths of segments joining two adjacent SubNodes</p>
</dd></dl>

<dl class="staticmethod">
<dt id="map.RoadString.get_perpendicular_segment">
<em class="property">static </em><code class="descname">get_perpendicular_segment</code><span class="sig-paren">(</span><em>theta1</em>, <em>theta2</em>, <em>point</em><span class="sig-paren">)</span><a class="headerlink" href="#map.RoadString.get_perpendicular_segment" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates equation of a line passing through a point with slope as an average of two slopes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>theta1</strong> (<em>float</em>) – angle in radians</li>
<li><strong>theta2</strong> (<em>float</em>) – angle in radians</li>
<li><strong>point</strong> (<em>tuple</em>) – (x,y) coordinates of the point</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(1, -slope, -intercept) where the equation of line is :math: <cite>y + slope * x + intercept = 0</cite></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="map.RoadString.line_string">
<code class="descname">line_string</code><a class="headerlink" href="#map.RoadString.line_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.RoadString.no_sub_nodes">
<code class="descname">no_sub_nodes</code><a class="headerlink" href="#map.RoadString.no_sub_nodes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.RoadString.perpendicular_segments">
<code class="descname">perpendicular_segments</code><a class="headerlink" href="#map.RoadString.perpendicular_segments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.RoadString.segment_headings">
<code class="descname">segment_headings</code><a class="headerlink" href="#map.RoadString.segment_headings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.RoadString.segment_lengths">
<code class="descname">segment_lengths</code><a class="headerlink" href="#map.RoadString.segment_lengths" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.RoadString.set_attributes">
<code class="descname">set_attributes</code><span class="sig-paren">(</span><em>line_string</em><span class="sig-paren">)</span><a class="headerlink" href="#map.RoadString.set_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates all the information of the road from the given line string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>line_string</strong> (<em>shapely LineString</em>) – of the road</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="map.RoadString.subnodes">
<code class="descname">subnodes</code><a class="headerlink" href="#map.RoadString.subnodes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="map.SubNode">
<em class="property">class </em><code class="descclassname">map.</code><code class="descname">SubNode</code><span class="sig-paren">(</span><em>point_x</em>, <em>point_y</em><span class="sig-paren">)</span><a class="headerlink" href="#map.SubNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Characterizes points of a line string along a curved road.</p>
<dl class="method">
<dt id="map.SubNode.get_grade">
<code class="descname">get_grade</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#map.SubNode.get_grade" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.SubNode.set_grade">
<code class="descname">set_grade</code><span class="sig-paren">(</span><em>g</em><span class="sig-paren">)</span><a class="headerlink" href="#map.SubNode.set_grade" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.SubNode.set_x">
<code class="descname">set_x</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#map.SubNode.set_x" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.SubNode.set_y">
<code class="descname">set_y</code><span class="sig-paren">(</span><em>y</em><span class="sig-paren">)</span><a class="headerlink" href="#map.SubNode.set_y" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.SubNode.x">
<code class="descname">x</code><a class="headerlink" href="#map.SubNode.x" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="map.SubNode.y">
<code class="descname">y</code><a class="headerlink" href="#map.SubNode.y" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="map.TrafficGraph">
<em class="property">class </em><code class="descclassname">map.</code><code class="descname">TrafficGraph</code><span class="sig-paren">(</span><em>simulation</em><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Comprises of and defines the topological connections between the other classes defined in map module.</p>
<p>TrafficGraph defines the landscape, the connections between roads, and everything related to the map used in the
simulation. TrafficGraph currently uses a graph data structure to store the topological connections, and an
rtree data structure to store the spatial information related to the static objects (nodes, intersections, roads)
and mobile objects (such as the vehicles).</p>
<dl class="attribute">
<dt id="map.TrafficGraph.__graph">
<code class="descname">__graph</code><a class="headerlink" href="#map.TrafficGraph.__graph" title="Permalink to this definition">¶</a></dt>
<dd><p><em>object</em> – a networkx graph object</p>
</dd></dl>

<dl class="attribute">
<dt id="map.TrafficGraph._simulation">
<code class="descname">_simulation</code><a class="headerlink" href="#map.TrafficGraph._simulation" title="Permalink to this definition">¶</a></dt>
<dd><p><em>object</em> – simulation object that uses the trafficgraph</p>
</dd></dl>

<dl class="attribute">
<dt id="map.TrafficGraph.__intersections_table">
<code class="descname">__intersections_table</code><a class="headerlink" href="#map.TrafficGraph.__intersections_table" title="Permalink to this definition">¶</a></dt>
<dd><p><em>dict</em> – a dictionary of the intersections defined in the trafficgraph</p>
</dd></dl>

<dl class="attribute">
<dt id="map.TrafficGraph.__intersections_count">
<code class="descname">__intersections_count</code><a class="headerlink" href="#map.TrafficGraph.__intersections_count" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – len of the __intersections_table</p>
</dd></dl>

<dl class="attribute">
<dt id="map.TrafficGraph.__sources">
<code class="descname">__sources</code><a class="headerlink" href="#map.TrafficGraph.__sources" title="Permalink to this definition">¶</a></dt>
<dd><p><em>list</em> – list of the nodes in the graph that have 0 incoming edges</p>
</dd></dl>

<dl class="attribute">
<dt id="map.TrafficGraph.__sinks">
<code class="descname">__sinks</code><a class="headerlink" href="#map.TrafficGraph.__sinks" title="Permalink to this definition">¶</a></dt>
<dd><p><em>list</em> – list of the nodes in the graph that have 0 outgoing edges</p>
</dd></dl>

<dl class="attribute">
<dt id="map.TrafficGraph.__nodes_count">
<code class="descname">__nodes_count</code><a class="headerlink" href="#map.TrafficGraph.__nodes_count" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – number of nodes in the graph</p>
</dd></dl>

<dl class="attribute">
<dt id="map.TrafficGraph.__roads_count">
<code class="descname">__roads_count</code><a class="headerlink" href="#map.TrafficGraph.__roads_count" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em></p>
</dd></dl>

<dl class="attribute">
<dt id="map.TrafficGraph.__roads_table">
<code class="descname">__roads_table</code><a class="headerlink" href="#map.TrafficGraph.__roads_table" title="Permalink to this definition">¶</a></dt>
<dd><p>dict()</p>
</dd></dl>

<dl class="attribute">
<dt id="map.TrafficGraph.__roads_tree">
<code class="descname">__roads_tree</code><a class="headerlink" href="#map.TrafficGraph.__roads_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>index.Index()</p>
</dd></dl>

<dl class="attribute">
<dt id="map.TrafficGraph.__roads_tree.interleaved">
<code class="descclassname">__roads_tree.</code><code class="descname">interleaved</code><a class="headerlink" href="#map.TrafficGraph.__roads_tree.interleaved" title="Permalink to this definition">¶</a></dt>
<dd><p>True</p>
</dd></dl>

<dl class="attribute">
<dt id="map.TrafficGraph.__vehicles_count">
<code class="descname">__vehicles_count</code><a class="headerlink" href="#map.TrafficGraph.__vehicles_count" title="Permalink to this definition">¶</a></dt>
<dd><p>0</p>
</dd></dl>

<dl class="attribute">
<dt id="map.TrafficGraph.__vehicles_table">
<code class="descname">__vehicles_table</code><a class="headerlink" href="#map.TrafficGraph.__vehicles_table" title="Permalink to this definition">¶</a></dt>
<dd><p>{}</p>
</dd></dl>

<dl class="attribute">
<dt id="map.TrafficGraph.__vehicles_tree">
<code class="descname">__vehicles_tree</code><a class="headerlink" href="#map.TrafficGraph.__vehicles_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>index.Index()</p>
</dd></dl>

<dl class="attribute">
<dt id="map.TrafficGraph.__vehicles_tree.interleaved">
<code class="descclassname">__vehicles_tree.</code><code class="descname">interleaved</code><a class="headerlink" href="#map.TrafficGraph.__vehicles_tree.interleaved" title="Permalink to this definition">¶</a></dt>
<dd><p>True</p>
</dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.add_vehicle">
<code class="descname">add_vehicle</code><span class="sig-paren">(</span><em>vehicle</em><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.add_vehicle" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a vehicle object and adds it to the traffic graph.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>vehicle</strong> (<em>object</em>) – vehicle object to be added (not the id)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.create_sample_network">
<code class="descname">create_sample_network</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.create_sample_network" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a default network (or chooses from among a set of default networks).</p>
<p class="rubric">Notes</p>
<p>Must include a GUI support to enable a user to create a network on the fly by dragging and dropping</p>
</dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.get_adj_nodes">
<code class="descname">get_adj_nodes</code><span class="sig-paren">(</span><em>node</em><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.get_adj_nodes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.get_all_nodes">
<code class="descname">get_all_nodes</code><span class="sig-paren">(</span><em>objects=True</em><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.get_all_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the nodes stored in the graph.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>objects</strong> (<em>bool</em>) – If objects are yielded or object ids</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><em>object</em> – Nodes in the graph</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.get_all_vehicles">
<code class="descname">get_all_vehicles</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.get_all_vehicles" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all the vehicle objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of all the vehicle objects</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.get_edge_attributes">
<code class="descname">get_edge_attributes</code><span class="sig-paren">(</span><em>edge</em><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.get_edge_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a Road object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>edge</strong> (<em>tuple</em>) – [start node id, end node id]</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Road object</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.get_edges">
<code class="descname">get_edges</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.get_edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a EdgeView containing edge. For attributes call getEdgeAttr(edge)</p>
<p>Returns:</p>
</dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.get_incoming_edges">
<code class="descname">get_incoming_edges</code><span class="sig-paren">(</span><em>node</em><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.get_incoming_edges" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>node</strong> (<em>int</em>) – id of the node</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list of edges (which is a tuple of nodes) that come into the given node</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.get_intersections">
<code class="descname">get_intersections</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.get_intersections" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.get_intersections_table">
<code class="descname">get_intersections_table</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.get_intersections_table" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.get_nearest_nodes">
<code class="descname">get_nearest_nodes</code><span class="sig-paren">(</span><em>bounding_box</em>, <em>number</em>, <em>generator=True</em>, <em>objects=False</em><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.get_nearest_nodes" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bounding_box</strong> (<em>tuple</em>) – axis aligned bounding box coordinates (xmin, ymin, xmax, ymax)</li>
<li><strong>number</strong> (<em>int</em>) – number of required nodes</li>
<li><strong>generator</strong> (<em>bool</em>) – If the output should be a generator</li>
<li><strong>objects</strong> (<em>bool</em>) – If the output should be node ids or objects</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(or generator) of the given number of nodes closest to a bounding box ordered by distance</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://toblerity.org/rtree/tutorial.html">http://toblerity.org/rtree/tutorial.html</a></p>
</dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.get_nearest_vehicles">
<code class="descname">get_nearest_vehicles</code><span class="sig-paren">(</span><em>bounding_box</em>, <em>number</em>, <em>generator=True</em>, <em>objects=False</em><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.get_nearest_vehicles" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the vehicles in a given axis aligned bounding box.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bounding_box</strong> (<em>tuple</em>) – axis aligned bounding box coordinates (xmin, ymin, xmax, ymax)</li>
<li><strong>number</strong> (<em>int</em>) – number of required vehicles</li>
<li><strong>generator</strong> (<em>bool</em>) – If the output should be a generator</li>
<li><strong>objects</strong> (<em>bool</em>) – If the output should be vehicle ids or objects</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(or generator) of the given number of vehicles closest to a bounding box ordered by distance</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://toblerity.org/rtree/tutorial.html">http://toblerity.org/rtree/tutorial.html</a></p>
</dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.get_node_attribute">
<code class="descname">get_node_attribute</code><span class="sig-paren">(</span><em>node</em><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.get_node_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a node object given an id</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>node</strong> (<em>int</em>) – id of the node</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Node object</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.get_node_count">
<code class="descname">get_node_count</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.get_node_count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.get_nodes_by_bounding_box">
<code class="descname">get_nodes_by_bounding_box</code><span class="sig-paren">(</span><em>bounding_box</em>, <em>generator=True</em>, <em>objects=False</em><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.get_nodes_by_bounding_box" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the nodes in a given axis aligned bounding box.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bounding_box</strong> (<em>tuple</em>) – axis aligned bounding box coordinates (xmin, ymin, xmax, ymax)</li>
<li><strong>generator</strong> (<em>bool</em>) – If the output should be a generator</li>
<li><strong>objects</strong> (<em>bool</em>) – If the output should be node ids or objects</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(or generator) of the nodes closest to a bounding box ordered by distance</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://toblerity.org/rtree/tutorial.html">http://toblerity.org/rtree/tutorial.html</a></p>
</dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.get_out_edges">
<code class="descname">get_out_edges</code><span class="sig-paren">(</span><em>node</em><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.get_out_edges" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>node</strong> (<em>int</em>) – id of the node</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list of edges (which is a tuple of nodes) that come into the given node</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.get_road">
<code class="descname">get_road</code><span class="sig-paren">(</span><em>edge</em><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.get_road" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>edge</strong> (<em>tuple</em>) – [start node id, end node id]</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Road object</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.get_road_network_bbox">
<code class="descname">get_road_network_bbox</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.get_road_network_bbox" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.get_roads">
<code class="descname">get_roads</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.get_roads" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">[start node id, end node id, road object]</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.get_shortest_path">
<code class="descname">get_shortest_path</code><span class="sig-paren">(</span><em>source</em>, <em>destination</em>, <em>weight='distance'</em><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.get_shortest_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the shortest path from source to destination.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>source</strong> (<em>int</em>) – source node id</li>
<li><strong>destination</strong> (<em>int</em>) – destination node id</li>
<li><strong>weight</strong> (<em>str</em>) – parameters based on which the cost is calculated</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a list of the node ids along the shortest path from the source to the destination</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.get_sinks">
<code class="descname">get_sinks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.get_sinks" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">of Node objects with zero outgoing edges</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.get_sources">
<code class="descname">get_sources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.get_sources" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">of Node objects with 0 incoming edges</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.get_vehicle">
<code class="descname">get_vehicle</code><span class="sig-paren">(</span><em>vehicle_id</em><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.get_vehicle" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the vehicle object with the given id in the __vehicles_table.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>vehicle_id</strong> (<em>int</em>) – vehicle id to be retrieved</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Vehicle object with the given vehicle_id</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.get_vehicle_count">
<code class="descname">get_vehicle_count</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.get_vehicle_count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.get_vehicle_tree_bbox">
<code class="descname">get_vehicle_tree_bbox</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.get_vehicle_tree_bbox" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.get_vehicles">
<code class="descname">get_vehicles</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.get_vehicles" title="Permalink to this definition">¶</a></dt>
<dd><p>Yields the vehicle object from the __vehicles_table.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Yields:</th><td class="field-body"><em>object</em> – Vehicle object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.get_vehicles_by_bounding_box">
<code class="descname">get_vehicles_by_bounding_box</code><span class="sig-paren">(</span><em>bounding_box</em>, <em>generator=False</em>, <em>objects=False</em><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.get_vehicles_by_bounding_box" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the vehicles in a given axis aligned bounding box.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bounding_box</strong> (<em>tuple</em>) – axis aligned bounding box coordinates (xmin, ymin, xmax, ymax)</li>
<li><strong>generator</strong> (<em>bool</em>) – If the output should be a generator</li>
<li><strong>objects</strong> (<em>bool</em>) – If the output should be vehicle ids or objects</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(or generator) of the given number of vehicles closest to a bounding box ordered by distance</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://toblerity.org/rtree/tutorial.html">http://toblerity.org/rtree/tutorial.html</a></p>
</dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.remove_vehicle">
<code class="descname">remove_vehicle</code><span class="sig-paren">(</span><em>vehicle</em><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.remove_vehicle" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the given vehicle id from the __vehicles_table</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>vehicle</strong> (<em>int</em>) – vehicle id to be deleted</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.update_road_attributes">
<code class="descname">update_road_attributes</code><span class="sig-paren">(</span><em>road</em><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.update_road_attributes" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>road</strong> (<em>list</em>) – [start_node_id, end_node_id, road_object]</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">estimated average time to travel on the road</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.update_vehicle_network">
<code class="descname">update_vehicle_network</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.update_vehicle_network" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the rtree and re initializes it using the self.vehicle_generator() method using bulk upload. This method of bulk upload of all the vehicles at the end of a time interval is preferred as compared to updating it after each vehicle’s update.</p>
</dd></dl>

<dl class="method">
<dt id="map.TrafficGraph.vehicle_generator">
<code class="descname">vehicle_generator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#map.TrafficGraph.vehicle_generator" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Yields:</th><td class="field-body"><em>tuple</em> – (id, (x,y,x,y)) id of vehicle and coordinates of vehicle</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="map.add_intersections_to_graph">
<code class="descclassname">map.</code><code class="descname">add_intersections_to_graph</code><span class="sig-paren">(</span><em>graph</em>, <em>intersections_table</em><span class="sig-paren">)</span><a class="headerlink" href="#map.add_intersections_to_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterates over the intersections and adds nodes to the graph, and create edges (Roads) from nodes that are connected. This piece of code assumes the simple plus shaped intersections, and the turn_links variable is based on this assumption.</p>
<p class="rubric">Notes</p>
<p>Future implementations must consider various shapes of intersections and different combinations of turn roads
to be added to the intersection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>graph</strong> (<em>object</em>) – Networkx graph object</li>
<li><strong>intersections_table</strong> (<em>dict</em>) – dict containing the intersection objects</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Graph object</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="map.build_sample_network">
<code class="descclassname">map.</code><code class="descname">build_sample_network</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#map.build_sample_network" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds a simple grid like network with + shaped intersections.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">graph object, intersections table</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="map.create_plus_intersection">
<code class="descclassname">map.</code><code class="descname">create_plus_intersection</code><span class="sig-paren">(</span><em>point_x</em>, <em>point_y</em>, <em>counter</em>, <em>scale=12</em>, <em>traffic_controller=True</em><span class="sig-paren">)</span><a class="headerlink" href="#map.create_plus_intersection" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a + shaped intersection and instantiates nodes (in a fixed fashion).</p>
<p class="rubric">Notes</p>
<p>Future implementations must include methods to create arbitrary (shaped/sized) intersections.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>point_x</strong> (<em>float</em>) – x coordinate</li>
<li><strong>point_y</strong> (<em>float</em>) – y coordinate</li>
<li><strong>counter</strong> (<em>int</em>) – used to number the nodes (node ids)</li>
<li><strong>scale</strong> (<em>int</em>) – scaling factor of the coordinates (since the nodes are placed here wrt distance from intersection)</li>
<li><strong>traffic_controller</strong> (<em>object</em>) – traffic controller on the intersection</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Intersection object, and counter number (used to sync the node ids on the graph)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="map.get_grade">
<code class="descclassname">map.</code><code class="descname">get_grade</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="headerlink" href="#map.get_grade" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the landscape of the region under the map.</p>
<p>This method is determined by a smooth function, and returns the function value evaluated at the input location. The function must have subtle variations in the grade with relative changes in x and y. This function is now external to the map, but later it can be integrated into the TrafficGraph class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<em>float</em>) – x coordinate</li>
<li><strong>y</strong> (<em>float</em>) – y coordinate</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">grade of the (x,y) coordinate</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">Determine a 2-D function which maps to the grade (altitude) of a given point.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="map.polygon_from_linestring">
<code class="descclassname">map.</code><code class="descname">polygon_from_linestring</code><span class="sig-paren">(</span><em>linestring</em>, <em>width_from_center</em><span class="sig-paren">)</span><a class="headerlink" href="#map.polygon_from_linestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a polygon object around the given line string with the given width from center.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>linestring</strong> (<em>object</em>) – Shapely LineString object</li>
<li><strong>width_from_center</strong> (<em>float</em>) – distance from the center to either sides (Edges) of the polygon</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Shapely Polygon object</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/map.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CATS  documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Ohio State University.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.4.
    </div>
  </body>
</html>